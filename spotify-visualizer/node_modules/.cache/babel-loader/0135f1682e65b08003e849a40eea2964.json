{"ast":null,"code":"import _classCallCheck from \"D:\\\\LZN\\\\Processing\\\\SpotifyVisualizerReact\\\\SpotifyVisualizerReact\\\\spotify-visualizer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\LZN\\\\Processing\\\\SpotifyVisualizerReact\\\\SpotifyVisualizerReact\\\\spotify-visualizer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\LZN\\\\Processing\\\\SpotifyVisualizerReact\\\\SpotifyVisualizerReact\\\\spotify-visualizer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\LZN\\\\Processing\\\\SpotifyVisualizerReact\\\\SpotifyVisualizerReact\\\\spotify-visualizer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\LZN\\\\Processing\\\\SpotifyVisualizerReact\\\\SpotifyVisualizerReact\\\\spotify-visualizer\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\LZN\\\\Processing\\\\SpotifyVisualizerReact\\\\SpotifyVisualizerReact\\\\spotify-visualizer\\\\src\\\\views\\\\P5Wrapper.js\";\nimport React, { Component } from 'react';\nimport p5 from 'p5';\n/**\r\n * custom P5 wrapper to get better frame performance with limited amounts of RAM on my heroku dyno\r\n * Simple wrapper for React sourced off of snippets and a pull request on github\r\n */\n\nvar P5Wrapper =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(P5Wrapper, _Component);\n\n  function P5Wrapper() {\n    _classCallCheck(this, P5Wrapper);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(P5Wrapper).apply(this, arguments));\n  }\n\n  _createClass(P5Wrapper, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.canvas = new p5(this.props.sketch, this.wrapper);\n\n      if (this.canvas.redrawWithPropsHandler) {\n        this.canvas.redrawWithPropsHandler(this.props);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newprops) {\n      if (this.props.sketch !== newprops.sketch) {\n        this.canvas.remove();\n        this.canvas = new p5(newprops.sketch, this.wrapper);\n      }\n\n      if (this.canvas.redrawWithPropsHandler) {\n        this.canvas.redrawWithPropsHandler(newprops);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.canvas.remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(\"div\", {\n        ref: function ref(wrapper) {\n          return _this.wrapper = wrapper;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return P5Wrapper;\n}(Component);\n\nexport { P5Wrapper as default };","map":{"version":3,"sources":["D:\\LZN\\Processing\\SpotifyVisualizerReact\\SpotifyVisualizerReact\\spotify-visualizer\\src\\views\\P5Wrapper.js"],"names":["React","Component","p5","P5Wrapper","canvas","props","sketch","wrapper","redrawWithPropsHandler","newprops","remove"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,EAAP,MAAe,IAAf;AAEA;;;;;IAIqBC,S;;;;;;;;;;;;;wCACG;AAChB,WAAKC,MAAL,GAAc,IAAIF,EAAJ,CAAO,KAAKG,KAAL,CAAWC,MAAlB,EAA0B,KAAKC,OAA/B,CAAd;;AACA,UAAI,KAAKH,MAAL,CAAYI,sBAAhB,EAAwC;AACpC,aAAKJ,MAAL,CAAYI,sBAAZ,CAAmC,KAAKH,KAAxC;AACH;AACJ;;;8CAEyBI,Q,EAAU;AAChC,UAAG,KAAKJ,KAAL,CAAWC,MAAX,KAAsBG,QAAQ,CAACH,MAAlC,EAA0C;AACtC,aAAKF,MAAL,CAAYM,MAAZ;AACA,aAAKN,MAAL,GAAc,IAAIF,EAAJ,CAAOO,QAAQ,CAACH,MAAhB,EAAwB,KAAKC,OAA7B,CAAd;AACH;;AACD,UAAI,KAAKH,MAAL,CAAYI,sBAAhB,EAAwC;AACpC,aAAKJ,MAAL,CAAYI,sBAAZ,CAAmCC,QAAnC;AACH;AACJ;;;2CAEsB;AACnB,WAAKL,MAAL,CAAYM,MAAZ;AACH;;;6BAEQ;AAAA;;AACL,aAAO;AAAK,QAAA,GAAG,EAAE,aAAAH,OAAO;AAAA,iBAAI,KAAI,CAACA,OAAL,GAAeA,OAAnB;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;;;EAxBkCN,S;;SAAlBE,S","sourcesContent":["import React, { Component } from 'react';\r\nimport p5 from 'p5';\r\n\r\n/**\r\n * custom P5 wrapper to get better frame performance with limited amounts of RAM on my heroku dyno\r\n * Simple wrapper for React sourced off of snippets and a pull request on github\r\n */\r\nexport default class P5Wrapper extends Component {\r\n    componentDidMount() {\r\n        this.canvas = new p5(this.props.sketch, this.wrapper)\r\n        if( this.canvas.redrawWithPropsHandler) {\r\n            this.canvas.redrawWithPropsHandler(this.props)\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newprops) {\r\n        if(this.props.sketch !== newprops.sketch) {\r\n            this.canvas.remove()\r\n            this.canvas = new p5(newprops.sketch, this.wrapper)\r\n        }\r\n        if (this.canvas.redrawWithPropsHandler) {\r\n            this.canvas.redrawWithPropsHandler(newprops)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.canvas.remove()\r\n    }\r\n\r\n    render() {\r\n        return <div ref={wrapper => this.wrapper = wrapper}></div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}